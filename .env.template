###############################
# MCC-OCR-Summary .env.template
###############################

# MODE: deployment profile (mvp, staging, production)
MODE=mvp
# STUB_MODE: skip external calls when true (local dev)
STUB_MODE=false
# SUPERVISOR_MODE: supervisor strategy (simple, advanced)
SUPERVISOR_MODE=simple
# ENABLE_METRICS: emit Prometheus metrics (/metrics endpoint)
ENABLE_METRICS=true
# DRIVE_ENABLED: allow Drive ingestion/output
DRIVE_ENABLED=true
# WRITE_TO_DRIVE: upload generated PDFs to Drive
WRITE_TO_DRIVE=true
# PDF_ENABLED: enable PDF writer path
PDF_ENABLED=true
# SHEETS_ENABLED: allow Google Sheets sync (normally false)
SHEETS_ENABLED=false

# PROJECT_ID: GCP project hosting Cloud Run + DocAI
PROJECT_ID=your-gcp-project-id
# REGION: Cloud Run/Artifact Registry region (e.g., us-central1)
REGION=us-central1
# DOC_AI_LOCATION: DocAI processor region (us, eu, etc.)
DOC_AI_LOCATION=us
# LOG_LEVEL: python logging level
LOG_LEVEL=INFO
# APP_ENV: environment banner shown in logs
APP_ENV=production
# MAX_PDF_BYTES: maximum allowed source PDF size (bytes)
MAX_PDF_BYTES=83886080

# INTAKE_GCS_BUCKET: bucket for incoming PDFs (required in prod)
INTAKE_GCS_BUCKET=your-intake-bucket
# OUTPUT_GCS_BUCKET: bucket for processed artifacts
OUTPUT_GCS_BUCKET=your-output-bucket
# SUMMARY_BUCKET: bucket for summary JSON/PDF copies
SUMMARY_BUCKET=your-summary-bucket
# PIPELINE_STATE_BACKEND: gcs | memory | firestore
PIPELINE_STATE_BACKEND=gcs
# PIPELINE_STATE_BUCKET: bucket for pipeline state snapshots
PIPELINE_STATE_BUCKET=your-state-bucket
# PIPELINE_STATE_PREFIX: folder/prefix within the state bucket
PIPELINE_STATE_PREFIX=pipeline-state

# DRIVE_INPUT_FOLDER_ID: Drive folder containing intake files
DRIVE_INPUT_FOLDER_ID=1eyMO0126VfLBK3bBQEpWlVOL6tWxriCE
# DRIVE_REPORT_FOLDER_ID: Drive folder for generated summaries
DRIVE_REPORT_FOLDER_ID=130jJzsl3OBzMD8weGfBOaXikfEnD2KVg
# DRIVE_SHARED_DRIVE_ID: Shared Drive hosting intake/output (optional)
DRIVE_SHARED_DRIVE_ID=shared-drive-id
# DRIVE_IMPERSONATION_USER: Workspace user to impersonate
DRIVE_IMPERSONATION_USER=user@example.com
# PDF_INPUT_FOLDER_ID: optional alias for DRIVE_INPUT_FOLDER_ID
PDF_INPUT_FOLDER_ID=1eyMO0126VfLBK3bBQEpWlVOL6tWxriCE
# PDF_OUTPUT_FOLDER_ID: optional alias for DRIVE_REPORT_FOLDER_ID
PDF_OUTPUT_FOLDER_ID=130jJzsl3OBzMD8weGfBOaXikfEnD2KVg

# DOC_AI_PROCESSOR_ID: OCR processor resource ID
DOC_AI_PROCESSOR_ID=projects/your-gcp-project-id/locations/us/processors/processor-id
# DOC_AI_SPLITTER_PROCESSOR_ID: splitter processor ID (optional)
DOC_AI_SPLITTER_PROCESSOR_ID=projects/your-gcp-project-id/locations/us/processors/splitter-id
# DOC_AI_OCR_PROCESSOR_ID: alias supported by AppConfig (optional)
DOC_AI_OCR_PROCESSOR_ID=
# CMEK_KEY_NAME: Cloud KMS key for CMEK-enabled resources (optional)
CMEK_KEY_NAME=projects/your-gcp-project/locations/LOCATION/keyRings/YOUR_KEYRING/cryptoKeys/YOUR_KEY

# GOOGLE_APPLICATION_CREDENTIALS: path to JSON key for local dev
GOOGLE_APPLICATION_CREDENTIALS=/secrets/your-service-account-key.json
# SERVICE_ACCOUNT_JSON: Secret Manager URI or inline JSON credentials
SERVICE_ACCOUNT_JSON=sm://service-account-secret

# OPENAI_API_KEY: API key or Secret Manager URI for summariser backend
OPENAI_API_KEY=sm://openai-api-key
# OPENAI_MODEL: override default OpenAI model (optional)
OPENAI_MODEL=
# USE_REFACTORED_SUMMARISER: switch between legacy/refactored summariser
USE_REFACTORED_SUMMARISER=true
# INTERNAL_EVENT_TOKEN: shared secret for internal callbacks
INTERNAL_EVENT_TOKEN=sm://internal-event-token

# MIN_OCR_CHARS: minimum OCR characters required before summarising
MIN_OCR_CHARS=50
# MIN_SUMMARY_CHARS: lower bound for summary character count
MIN_SUMMARY_CHARS=300
# MIN_SUMMARY_DYNAMIC_RATIO: ratio of source chars to summary chars
MIN_SUMMARY_DYNAMIC_RATIO=0.005
# SUMMARY_COMPOSE_MODE: refactored | legacy (must match backend)
SUMMARY_COMPOSE_MODE=refactored
# PDF_WRITER_MODE: rich | minimal | reportlab
PDF_WRITER_MODE=rich
# ENABLE_NOISE_FILTERS: drop boilerplate questionnaire text
ENABLE_NOISE_FILTERS=true

# CORS_ORIGINS: comma-separated list of allowed origins
CORS_ORIGINS=
# REQUEST_TIMEOUT_SECONDS: per-request timeout for FastAPI routes
REQUEST_TIMEOUT_SECONDS=60

# NOTE: Never commit a filled-in .env file. This template lists required/optional variables and their purpose.
